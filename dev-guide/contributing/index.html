
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ultrabug.github.io/py3status/dev-guide/contributing/">
      
      
        <link rel="prev" href="../the-py3-helper/">
      
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Contributing to Py3status - Py3status Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#developing-and-contributing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Py3status Documentation" class="md-header__button md-logo" aria-label="Py3status Documentation" data-md-component="logo">
      
  <img src="../../assets/logomark.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Py3status Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Contributing to Py3status
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ultrabug/py3status" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user-guide/installation/" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../writing-modules/" class="md-tabs__link">
          
  
  
    
  
  Developer Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Py3status Documentation" class="md-nav__button md-logo" aria-label="Py3status Documentation" data-md-component="logo">
      
  <img src="../../assets/logomark.png" alt="logo">

    </a>
    Py3status Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ultrabug/py3status" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Available Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/remote-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controlling Py3status Remotely
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/user-contributed-conf-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Configuration Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../writing-modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Writing Py3status Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../the-py3-helper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Py3 Module Helper
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Contributing to Py3status
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Contributing to Py3status
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zen-of-py3status" class="md-nav__link">
    <span class="md-ellipsis">
      Zen of py3status
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Zen of py3status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#efficient-and-simple-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      efficient and simple defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#its-not-because-you-can-that-you-should" class="md-nav__link">
    <span class="md-ellipsis">
      it's not because you can that you should
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-enough-is-good-enough" class="md-nav__link">
    <span class="md-ellipsis">
      good enough is good enough
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-featureidea-at-a-time" class="md-nav__link">
    <span class="md-ellipsis">
      one feature/idea at a time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modules-are-responsible-for-user-information-and-interactions" class="md-nav__link">
    <span class="md-ellipsis">
      modules are responsible for user information and interactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-is-responsible-for-user-experience" class="md-nav__link">
    <span class="md-ellipsis">
      core is responsible for user experience
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rely-on-i3status-color-scheme" class="md-nav__link">
    <span class="md-ellipsis">
      rely on i3status color scheme
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rely-on-the-i3bar-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      rely on the i3bar protocol
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    <span class="md-ellipsis">
      What you will need
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-a-development-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up a development environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-versions" class="md-nav__link">
    <span class="md-ellipsis">
      Python versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tox" class="md-nav__link">
    <span class="md-ellipsis">
      tox
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Github Actions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-in-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Coding in containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiling-py3status" class="md-nav__link">
    <span class="md-ellipsis">
      Profiling py3status
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="developing-and-contributing">Developing and Contributing</h1>
<p>Contributions to py3status including documentation, the core code, or
for new or existing modules are very welcome.</p>
<p>Please read carefully the zen describing the minimal things to keep in
mind when contributing or participating to this project.</p>
<p>Feel free to open an issue to propose your ideas as request for comments
[RFC] and to join us on IRC OFTC #py3status channel for a live chat.</p>
<p>To make a contribution please create a <a href="https://github.com/ultrabug/py3status/pulls">pull request</a>.</p>
<p>Any functional change should be done via pull requests, even by people
with push access.</p>
<p>Each PR requires at least one approval from project maintainers before a
PR can be merged.</p>
<h2 id="zen-of-py3status">Zen of py3status</h2>
<h3 id="efficient-and-simple-defaults">efficient and simple defaults</h3>
<blockquote>
<p>We like py3status because it's a drop-in replacement of i3status. i3
users don't expect fancy and magical things, they use i3 because it's
simple and efficient. Keep configuration options and default formats
as simple as possible</p>
</blockquote>
<h3 id="its-not-because-you-can-that-you-should">it's not because you can that you should</h3>
<blockquote>
<p>On modules, expose things that you WILL use, not things that you COULD
use. On core, make features and options as seamless as possible (lazy
loading) with sane defaults and no mandatory requirements.</p>
</blockquote>
<h3 id="good-enough-is-good-enough">good enough is good enough</h3>
<blockquote>
<p>Strive for and accept "good enough" features / proposals. We shall
refrain from refining indefinitely.</p>
</blockquote>
<h3 id="one-featureidea-at-a-time">one feature/idea at a time</h3>
<blockquote>
<p>Trust and foster iteration with your peers by refraining from
digressions. Keep discussions focused on the initial topic and easy to
get into. Proposals should not contain multiple features or
corrections at once.</p>
</blockquote>
<h3 id="modules-are-responsible-for-user-information-and-interactions">modules are responsible for user information and interactions</h3>
<blockquote>
<p>That is what's written in the bar and its behavior on clicks etc.</p>
</blockquote>
<h3 id="core-is-responsible-for-user-experience">core is responsible for user experience</h3>
<blockquote>
<p>Core features and configuration options should focus on user
experience. Things that are related to the general output of the bar
are handled by core. Smart things overlaying modules (such as
standardized options) should also end up in the core.</p>
</blockquote>
<h3 id="rely-on-i3status-color-scheme">rely on i3status color scheme</h3>
<blockquote>
<p>No fancy colors by default, only i3status good/degraded/bad. If we
want to provide enhanced coloring, this should be through a core
feature such as thresholds.</p>
</blockquote>
<h3 id="rely-on-the-i3bar-protocol">rely on the i3bar protocol</h3>
<blockquote>
<p>what's possible with it, we should support and offer.</p>
</blockquote>
<h2 id="what-you-will-need">What you will need</h2>
<ul>
<li>python3</li>
<li>
<p>i3status:</p>
<ul>
<li><a href="https://i3wm.org/i3status/">https://i3wm.org/i3status/</a></li>
<li><a href="https://github.com/i3/i3status">https://github.com/i3/i3status</a></li>
</ul>
</li>
<li>
<p>pytest pytest-flake8:</p>
<ul>
<li><a href="https://pypi.python.org/pypi/pytest">https://pypi.python.org/pypi/pytest</a></li>
<li><a href="https://pypi.python.org/pypi/pytest-flake8">https://pypi.python.org/pypi/pytest-flake8</a></li>
</ul>
</li>
<li>
<p>black:</p>
<ul>
<li><a href="https://pypi.org/project/black/">https://pypi.org/project/black/</a></li>
</ul>
</li>
<li>
<p>tox:</p>
<ul>
<li><a href="https://pypi.org/project/tox/">https://pypi.org/project/tox/</a></li>
</ul>
</li>
</ul>
<h2 id="setting-up-a-development-environment">Setting up a development environment</h2>
<p>First clone the git repository</p>
<pre><code class="language-bash"># using https
$ git clone https://github.com/ultrabug/py3status.git

# using ssh (needs github account)
$ git clone git@github.com:ultrabug/py3status.git
</code></pre>
<p>Run setup.py to install</p>
<pre><code class="language-bash"># cd to the directory containing setup.py
$ cd py3status

# install you may need to use sudo to have required permissions
$ pip install -e .
</code></pre>
<p>you can now run py3status and any changes to the code you make will be
available after a reload.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>py3status will only be installed for the version of python that you used
to run <code>setup.py</code>.</p>
<p>If you wish to have multiple versions available. First run
<code>setup.py develop</code> using the required python versions. Next copy the
executable eg <code>sudo cp /usr/bin/py3status /usr/bin/py3status2</code> Then
edit the hashbang to point to your chosen python version.</p>
</div>
<h2 id="python-versions">Python versions</h2>
<p>Starting with version 3.26, py3status will only run using python 3.</p>
<h2 id="documentation">Documentation</h2>
<p>Documentation pages are located under the docs/ folder.</p>
<p>To run the documentation site locally (useful for previewing changes), use:</p>
<pre><code class="language-bash"># you need to install hatch
# pip install --user hatch
hatch -e docs mkdocs serve
</code></pre>
<h2 id="tox">tox</h2>
<p>Py3status uses tox for testing. All submissions to the project must pass
testing. To install these via pip use</p>
<pre><code class="language-bash">$ pip install pytest
$ pip install pytest-flake8
$ pip install tox
$ pip install black  # needs python 3.6+
</code></pre>
<p>The tests can be run by using <code>tox</code> in the py3status root directory.</p>
<p>Tests are kept in the <code>tests</code> directory.</p>
<h2 id="github-actions">Github Actions</h2>
<p>When you create your Pull Request, checks from the Github Actions CI will
automatically run.</p>
<p>If something fails in the CI:</p>
<ul>
<li>Take a look the build log</li>
<li>If you don't get what is failing or why it is failing, feel free to
  tell it as a comment in your PR: people here are helpful and
  open-minded :)</li>
<li>Once the problem is identified and fixed, rebase your commit with
  the fix and push it on your fork to trigger the CI again</li>
</ul>
<h2 id="coding-in-containers">Coding in containers</h2>
<p>Warning, by default (at least <a href="https://projects.archlinux.org/svntogit/community.git/tree/trunk/i3status.install?h=packages/i3status#n2">on Archlinux</a>),
i3status has cap_net_admin capabilities, which will make it fail with
<code>operation not permitted</code> when running inside a Docker container.</p>
<pre><code class="language-bash">$ getcap `which i3status`
/usr/sbin/i3status = cap_net_admin+ep
</code></pre>
<p>To allow it to run without these capabilities (hence disabling some of
the functionalities), remove it with:</p>
<pre><code class="language-bash">$ sudo setcap -r `which i3status`
</code></pre>
<h2 id="profiling-py3status">Profiling py3status</h2>
<p>A small tool to measure <code>py3status</code> performance between changes and
allows testing of old versions, etc. It's a little clunky but it does
the job. <a href="https://github.com/tobes/py3status-profiler">https://github.com/tobes/py3status-profiler</a></p>
<pre><code># pprofile
Running tests for 10 minutes.
[██████████] 100.00%  10:00  (22.12)
user 21.41s
system 0.71s
total 22.12s

# vmprof
Running tests for 10 minutes.
[██████████] 100.00%  10:00  (2.10)
user 1.77s
system 0.33s
total 2.1s

# cprofile
Running tests for 10 minutes.
[██████████] 100.00%  10:00  (0.92)
user 0.87s
system 0.05s
total 0.92
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2021-2023 Alexys Jacob
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/ultrabug/py3status" target="_blank" rel="noopener" title="py3status on Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.indexes", "navigation.sections", "navigation.tabs", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>